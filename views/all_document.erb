<head>
  <meta charset="utf-8">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
</head>
<% if @errormsg %>
  <div class="alert alert-success" role="alert">
    <%= @errormsg %>
  </div>
<% end %>
<form  class="row backgroundHs" action="/all_document" method="get">
  <div class="col-lg-2 col-md-2 col-sm-4 col-xs-6">
    <a id="buttonIndexDocA" class="buttonForm nav-link" href="/create_document" role="button">Nuevo</a>
  </div>
  <div class="col-lg-2 col-md-2 col-sm-4 col-xs-6 text-center m-auto container">
    <select class="col-xl-10 mi-selector" name='dateDoc'>
      <%@allPdf && @allPdf.each do |element| %>
        <option value='<%= element.name%>'><%= element.name%></option>
      <% end %>
    </select>
  </div>
  <div class="col-lg-2 col-md-2 col-sm-4 col-xs-6 text-center m-auto container">
      <select class="col-xl-10 mi-selector mt-auto" name='category'>
        <%@allCat && @allCat.each do |element| %>
          <option value="<%=element.name%>"><%= element.name%></option>
        <% end %>
      </select>
  </div>
  <div class="col-lg-2 col-md-2 col-sm-4 col-xs-6 text-center m-auto container">
    <select name="filter" class="col-xl-10 form-control mi-selector ">
      <option value="nameO">Nombre</option>
      <option value="dateO">Fecha</option>
    </select>
  </div>
  <div class="ccol-lg-2 col-md-2 col-sm-4 col-xs-6 text-center m-auto container">
    <input  class="form-control" id="date" type="date" name="dateDoc">
  </div>
  <div class="col-lg-2 col-md-2 col-sm-4 col-xs-6 text-center m-auto container">
    <button id="buttonIndexDocA" class="col-xl-10 buttonForm nav-link" type="submit">Filtrar</button>
  </div>
</form>
<div class="row">
  <%@allPdf && @allPdf.each do |element| %>
    <div class="col-xl-4">
      <div class="col-11 elementColor">
        <a class="list-group-item list-group-item-action flex-column align-items-start backgroundDoc" href="<%=element.fileDocument%>" download="<%= element.name%>">
          <embed src="<%=element.fileDocument%>#toolbar=0&navpanes=0&scrollbar=0" type="application/pdf" width="100%" height="100%"/>
            <div class="d-flex w-100 justify-content-between">
              <h4 class="mb-1"> <%= element.name%></h4>
              <h5 class="text-muted"><%= element.date%></h5>
            </div>
            <h6 class="mb-1"><%= element.description%></h6>
            <div class="row d-flex w-100 justify-content-between">
              <form class="col-6" action="/selected_document" method="post">
                <input type="hidden" name="pdf" value="<%=element.id%>"/>
                <button id="buttonLogin" type="submit">Editar</button>
              </form>
              <form class="col-6" action="delete_document" method="post" >
                <input type="hidden" name="theId" value="<%=element.id%>"/>
                <button id="buttonLogin"  type="submit" href="javascript:funcion()">Eliminar</button>
                <!-- <a href="javascript:funcion()">Llamar funci√≥n</a>
                <script>
                  function funcion(){
                    console.log("Borro el mensaje");
                    const msg = {
                      mens:"BORRO",
                    }
                    ws.send(JSON.stringify(msg));
                  }
                </script> -->
              </form>
            </div>
          </a>
        </div>
      </div>
    <% end %>
  </div>
  <script type="text/javascript">

  </script>
  <script type="text/javascript">
  jQuery(document).ready(function($){
    $(document).ready(function() {
        $('.mi-selector').select2();
    });
  });
  </script>
